<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subjects</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/css/tempusdominus-bootstrap-4.min.css">
    <link rel="stylesheet" href="/styles/subjectsstyle.css">
    <link rel="icon" href="./img/students-logo.ico" type="image/x-icon">
</head>

<body>


    <nav>
        <header>
            <div class="container-fluid green">
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a class="nav-link text-light" href="../students">Menu</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-light" href="../calendario">appointment</a>
                    </li>
                    <li class="nav-item">
                    <li class="nav-item">
                        <a class="nav-link text-light" href="../perfil">Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-light" href="../dataEditor">Modifications</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link text-light" href="https://calendar.google.com/calendar/u/0?cid=MDkzZjRmYmRmYzIyMDliNWNmZTYxNWFiODQzMWQ4YTRmMDU5ZjczZDFhOGRlN2Y5ZjkzNTlmYjUyZmM4MTMyNkBncm91cC5jYWxlbmRhci5nb29nbGUuY29t">calendar</a>
                  </li>
                    <li class="nav-item ml-auto">
                        <form method="POST" action="/logout">
                            <button type="submit" class="btn btn-primary justify-content-left">Logout</button>
                        </form>
                    </li>
                </ul>
            </div>
    </nav>
    </header>



    <!--Main accordion, which lets you choose a subject-->
    <div class="accordion" id="outer_Accordion_1">
        <div class="accordion-item">
            <!--Accordion header, which acts as a button and has text describing the subject-->
            <h2 class="accordion-header">
                <button class="accordion-button collapsed darkgreen outertext" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                    <%= asignatureJuanName %>
                </button>
            </h2>

            <!--Secondary accordion, which shows the teachers-->
            <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#outer_Accordion_1">
                <!--Main Body, which acts as a button and has text describing the subject-->
                <div class="accordion-body">
                    <div class="accordion" id="inner_Accordion_1A">
                        <div class="accordion-item">
                            <h5 class="mb-0">
                                <button class="accordion-button collapsed lightgreen innertext" type="button"
                                    data-bs-toggle="collapse" data-bs-target="#collapseInner1A" aria-expanded="false"
                                    aria-controls="collapseInner1A">
                                    <%= TeacherJuanName %>
                                </button>
                            </h5>
                        </div>
                        <!--Contents of the accordion, this accordion has an image showing the teacher along with the description of said teacher-->
                        <div id="collapseInner1A" class="collapse" aria-labelledby="inner_Accordion_1A"
                            data-parent="#accordion">
                            <div class="card-body pd-1 w-20">
                                <div class="row">
                                    <div class="col-md-4">
                                        <!--Mugshot of the teacher-->
                                        <img src="https://cdn.discordapp.com/attachments/1157844922829914224/1172702186082422875/front-view-handsome-man_23-2148780801.png?ex=65614704&is=654ed204&hm=624c63db49816d1a253af8ea3eb2c66eeb40ad500441ec29567615491ac6cd45&" alt="Image 2"
                                            class="img-fluid w-100 h-100 py-3 px-3 d-none d-md-block">
                                    </div>
                                    <!--Teacher name and description-->
                                    <div class="col-md-8 py-3 mx-auto col-md-auto">
                                        <h3>
                                            <%= TeacherJuanName %>
                                        </h3>
                                        <div>
                                            <p class="py-2">Calculus expert blending passion with practicality. Dynamic, with a global perspective from worldwide studies. Engages students with humor and relatable examples, simplifying complex concepts.
                                            </p>
                                        </div>
                                        <!--Datetime picker, which shows a calendar along with the time, allowing the user to select an specific date-->
                                        <div class="input-group date w-50 col-md-auto " id="datetimepicker1A"
                                            data-target-input="nearest">
                                            <h1>Crear Evento</h1>
                                            <form action="/createEvent" method="post">
                                              <label for="eventTitle">Título del Evento:</label>
                                              <input type="text" id="eventTitle" name="eventTitle" required>
                                          
                                              <label for="eventDescription">Descripción del Evento:</label>
                                              <textarea id="eventDescription" name="eventDescription" rows="4" required></textarea>
                                          
                                              <label for="startDateTime">Fecha y hora de inicio:</label>
                                              <input type="datetime-local" id="startDateTime" name="startDateTime" required>
                                          
                                              <label for="endDateTime">Fecha y hora de finalización:</label>
                                              <input type="datetime-local" id="endDateTime" name="endDateTime" required>
                                          
                                              <button type="submit" id="submitButton">Crear Evento</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--Main accordion, which lets you choose a subject-->
    <div class="accordion" id="outer_Accordion_2">
        <div class="accordion-item">
            <!--Accordion header, which acts as a button and has text describing the subject-->
            <h2 class="accordion-header">
                <button class="accordion-button collapsed darkgreen outertext" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    <%= asignatureKusakaName %>
                </button>
            </h2>

            <!--Secondary accordion, which shows the teachers-->
            <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#outer_Accordion_2">
                <!--Main Body, which acts as a button and has text describing the subject-->
                <div class="accordion-body">
                    <div class="accordion" id="inner_Accordion_2A">
                        <div class="accordion-item">
                            <h5 class="mb-0">
                                <button class="accordion-button collapsed lightgreen innertext" type="button"
                                    data-bs-toggle="collapse" data-bs-target="#collapseInner2A" aria-expanded="false"
                                    aria-controls="collapseInner2A">
                                    <%= TeacherKusakaName %>
                                </button>
                            </h5>
                        </div>
                        <!--Contents of the accordion, this accordion has an image showing the teacher along with the description of said teacher-->
                        <div id="collapseInner2A" class="collapse" aria-labelledby="inner_Accordion_2A"
                            data-parent="#accordion">
                            <div class="card-body pd-1 w-20">
                                <div class="row">
                                    <div class="col-md-4">
                                        <!--Mugshot of the teacher-->
                                        <img src="https://cdn.discordapp.com/attachments/1157844922829914224/1172702186082422875/front-view-handsome-man_23-2148780801.png?ex=65614704&is=654ed204&hm=624c63db49816d1a253af8ea3eb2c66eeb40ad500441ec29567615491ac6cd45&" alt="Image 2"
                                            class="img-fluid w-100 h-100 py-3 px-3 d-none d-md-block">
                                    </div>
                                    <!--Teacher name and description-->
                                    <div class="col-md-8 py-3 mx-auto col-md-auto">
                                        <h3>
                                            <%= TeacherKusakaName %>
                                        </h3>
                                        <div>
                                            <p class="py-2">Operating Systems Authority. Dynamic instructor blending theory with real-world applications. Draws from diverse industry experience for a practical approach
                                            </p>
                                        </div>
                                        <!--Datetime picker, which shows a calendar along with the time, allowing the user to select an specific date-->
                                        <div class="input-group date w-50 col-md-auto " id="datetimepicker2A"
                                            data-target-input="nearest">
                                            <form action="/mostrar" method="post">
                                                <!-- ... (otros campos del formulario) ... -->

                                                <div class="input-group date w-50 col-md-auto " id="datetimepicker2A"
                                                    data-target-input="nearest">
                                                    <input type="text" class="form-control datetimepicker-input"
                                                        name="fechaSeleccionada" data-target="#datetimepicker2A"
                                                        placeholder="Select a date and time">
                                                    <h1 class="input-group-append btn darkgreen buttontext"
                                                        data-target="#datetimepicker1A" data-toggle="datetimepicker">
                                                        Select a time </h1>
                                                </div>
                                                <div class="py-3">
                                                    <button type="submit"
                                                        class="btn btn-block darkgreen buttontext w-50">Submit</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--The subaccordion ends, and the code repeats itself another two times-->
    <!--Main accordion, which lets you choose a subject-->
    <div class="accordion" id="outer_Accordion_3">
      <div class="accordion-item">
          <!--Accordion header, which acts as a button and has text describing the subject-->
          <h2 class="accordion-header">
              <button class="accordion-button collapsed darkgreen outertext" type="button" data-bs-toggle="collapse"
                  data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                  <%= asignatureRomanName %>
              </button>
          </h2>

          <!--Secondary accordion, which shows the teachers-->
          <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#outer_Accordion_3">
              <!--Main Body, which acts as a button and has text describing the subject-->
              <div class="accordion-body">
                  <div class="accordion" id="inner_Accordion_3A">
                      <div class="accordion-item">
                          <h5 class="mb-0">
                              <button class="accordion-button collapsed lightgreen innertext" type="button"
                                  data-bs-toggle="collapse" data-bs-target="#collapseInner3A" aria-expanded="false"
                                  aria-controls="collapseInner3A">
                                  <%= TeacherRomanName %>
                              </button>
                          </h5>
                      </div>
                      <!--Contents of the accordion, this accordion has an image showing the teacher along with the description of said teacher-->
                      <div id="collapseInner3A" class="collapse" aria-labelledby="inner_Accordion_3A"
                          data-parent="#accordion">
                          <div class="card-body pd-1 w-20">
                              <div class="row">
                                  <div class="col-md-4">
                                      <!--Mugshot of the teacher-->
                                      <img src="https://cdn.discordapp.com/attachments/1157844922829914224/1172702186082422875/front-view-handsome-man_23-2148780801.png?ex=65614704&is=654ed204&hm=624c63db49816d1a253af8ea3eb2c66eeb40ad500441ec29567615491ac6cd45&" alt="Image 2"
                                          class="img-fluid w-100 h-100 py-3 px-3 d-none d-md-block">
                                  </div>
                                  <!--Teacher name and description-->
                                  <div class="col-md-8 py-3 mx-auto col-md-auto">
                                      <h3>
                                          <%= TeacherRomanName %>
                                      </h3>
                                      <div>
                                          <p class="py-2">Dynamic educator weaving cultural nuances into language studies. Offers a global perspective from extensive travels. Engages students with interactive language immersion techniques and storytelling.</p>
                                          </p>
                                      </div>
                                      <!--Datetime picker, which shows a calendar along with the time, allowing the user to select an specific date-->
                                      <div class="input-group date w-50 col-md-auto " id="datetimepicker3A"
                                          data-target-input="nearest">
                                          <form action="/mostrar" method="post">
                                              <!-- ... (otros campos del formulario) ... -->

                                              <div class="input-group date w-50 col-md-auto " id="datetimepicker3A"
                                                  data-target-input="nearest">
                                                  <input type="text" class="form-control datetimepicker-input"
                                                      name="fechaSeleccionada" data-target="#datetimepicker3A"
                                                      placeholder="Select a date and time">
                                                  <h1 class="input-group-append btn darkgreen buttontext"
                                                      data-target="#datetimepicker3A" data-toggle="datetimepicker">
                                                      Select a time </h1>
                                              </div>
                                              <div class="py-3">
                                                  <button type="submit"
                                                      class="btn btn-block darkgreen buttontext w-50">Submit</button>
                                              </div>
                                          </form>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>



    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.6/umd/popper.min.js"></script>

    <!-- Add Tempus Dominus JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/js/tempusdominus-bootstrap-4.min.js"></script>
</body>

</html>

<!--Script for the datetime picker, which Allows it to use the same method with differend variables, placed here for testing purposes. in the final version, this won't appear in the .html archive-->
<script>
    $(document).ready(function () {
        initializeDateTimePicker('datetimepicker1A', 'L LT');
        initializeDateTimePicker('datetimepicker2A', 'L LT');
        initializeDateTimePicker('datetimepicker3A', 'L LT');

        initializeDateTimePicker('datetimepicker1B', 'L LT');
        initializeDateTimePicker('datetimepicker2B', 'L LT');
        initializeDateTimePicker('datetimepicker3B', 'L LT');

        initializeDateTimePicker('datetimepicker1C', 'L LT');
        initializeDateTimePicker('datetimepicker2C', 'L LT');
        initializeDateTimePicker('datetimepicker3C', 'L LT');
    });

    function initializeDateTimePicker(id, format) {
        $('#' + id).datetimepicker({
            format: format,
        });
    };

    function createEvent() {
    // Obtener los valores de los campos del formulario
    const eventTitle = document.getElementById('eventTitle').value;
    const eventDescription = document.getElementById('eventDescription').value;
    const startDateTime = document.getElementById('startDateTime').value;
    const endDateTime = document.getElementById('endDateTime').value;

    // Validar los campos del formulario
    if (!eventTitle || !startDateTime || !endDateTime) {
        console.error('Todos los campos deben ser completados.');
        // Puedes mostrar un mensaje al usuario indicando que todos los campos son obligatorios
        return;
    }

    // Enviar la información del evento al servidor para crearlo
    fetch('/create-event', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ eventTitle, eventDescription, startDateTime, endDateTime }),
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Error en la solicitud al servidor.');
        }
        return response.json();
    })
    .then(data => {
        console.log(data);
        // Manejar la respuesta del servidor, mostrar mensajes de éxito, etc.
    })
    .catch(error => {
        console.error('Error al enviar la información del evento al servidor:', error);
        // Puedes mostrar un mensaje al usuario indicando que ha ocurrido un error
    });
}

document.addEventListener('DOMContentLoaded', function () {
    const submitButton = document.getElementById('submitButton');
    submitButton.addEventListener('click', createEvent);
});
</script>